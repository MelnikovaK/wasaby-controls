<?xml version="1.0" encoding="WINDOWS-1251" ?>
<repository orx_version="1.71">

  <object last_changed="Ткачук М.И." name="Validation" responsible="Ткачук М.И.">
    <object last_changed="Ткачук М.И." name="EmailValidation" responsible="Ткачук М.И.">
      <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="EmailValidation.CreateValidation" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
        <parameter name="message">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="email">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="title">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="surname_name">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="url_to_redirect">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="method_to_verify">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <return name="___SBIS_SCALAR_RETURN___">
          <format>
            <type>TEXT</type>
          </format>
        </return>
      </select>
      <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="EmailValidation.CreateValidation" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
        <parameter name="message">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="email">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="resource_id">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="access_lifetime">
          <format>
            <type>INTEGER</type>
          </format>
        </parameter>
        <parameter name="title">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="surname_name">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="url_to_redirect">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="method_to_verify">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <return name="___SBIS_SCALAR_RETURN___">
          <format>
            <type>TEXT</type>
          </format>
        </return>
      </select>
      <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="EmailValidation.CreateValidationWithLetterTemplate" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
        <parameter name="resource_id">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="email">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="title">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="letter">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="code_lifetime">
          <format>
            <type>INTEGER</type>
          </format>
        </parameter>
        <parameter name="access_lifetime">
          <format>
            <type>INTEGER</type>
          </format>
        </parameter>
        <parameter name="url_to_redirect">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="method_to_verify">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <return name="___SBIS_SCALAR_RETURN___">
          <format>
            <type>TEXT</type>
          </format>
        </return>
      </select>
      <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="EmailValidation.SendMessage" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
        <parameter name="email">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="message">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="title">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <return name="___SBIS_SCALAR_RETURN___">
          <format>
            <type>BOOLEAN</type>
          </format>
        </return>
      </select>
    </object>
    <object last_changed="Ткачук М.И." name="SMSValidation" responsible="Ткачук М.И.">
      <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="SMSValidation.CreateValidation" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
        <parameter name="message">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="phone_number">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <return name="___SBIS_SCALAR_RETURN___">
          <format>
            <type>TEXT</type>
          </format>
        </return>
      </select>
      <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="SMSValidation.CreateValidation" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
        <parameter name="message">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="phone_number">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="resource_id">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="access_lifetime">
          <format>
            <type>INTEGER</type>
          </format>
        </parameter>
        <return name="___SBIS_SCALAR_RETURN___">
          <format>
            <type>TEXT</type>
          </format>
        </return>
      </select>
      <select access_mode="0" is_service="1" last_changed="Ткачук М.И." name="SMSValidation.SendMessage" responsible="Ткачук М.И." returns="SCALAR" type="PYTHON">
        <parameter name="phone_number">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <parameter name="message">
          <format>
            <type>TEXT</type>
          </format>
        </parameter>
        <return name="___SBIS_SCALAR_RETURN___">
          <format>
            <type>BOOLEAN</type>
          </format>
        </return>
        <definition>
          <language>PYTHON</language>
          <body>brc = BaseRemoteCommandCaller( ConfigGet( "СервисСМС.Адрес" ), ConfigGet( "СервисСМС.Аутентификация" ), ConfigGet( "СервисСМС.Логин" ), ConfigGet( "СервисСМС.Пароль" ) )
deliver_hour = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
param = Record()
param.AddString( "Агент", "sbis.ru" )
param.AddString( "Содержание", message )
param.AddString( "Адресат", phone_number )
param.AppendField( "ЧасыДоставки", FieldType.ftARRAY_INT32, 0 )
param[ "ЧасыДоставки" ].From( deliver_hour )
res = Record()
res.AddInt32( "IDСообщения" )
rc = RemoteCommandRecParam( "Сообщение.НовоеОтправить", param, res[0] )
try:
   brc.Call(rc)
   return True
except:
   return False</body>
        </definition>
      </select>
    </object>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.AllowAccessByKey" responsible="Ткачук М.И." returns="NONE" type="NATIVE">
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="key">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.CancelAccess" responsible="Ткачук М.И." returns="NONE" type="NATIVE">
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="stored_cookie">
        <format>
          <type>BOOLEAN</type>
        </format>
      </parameter>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.CancelAccessByKey" responsible="Ткачук М.И." returns="NONE" type="NATIVE">
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="key">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.GenerateValidationCode" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
      <return name="___SBIS_SCALAR_RETURN___">
        <format>
          <type>INTEGER</type>
        </format>
      </return>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.GetAccess" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <return name="___SBIS_SCALAR_RETURN___">
        <format>
          <type>BOOLEAN</type>
        </format>
      </return>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.GetAccess" responsible="Ткачук М.И." returns="SCALAR" type="NATIVE">
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="key">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <return name="___SBIS_SCALAR_RETURN___">
        <format>
          <type>BOOLEAN</type>
        </format>
      </return>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.NotifyToRequireValidation" responsible="Ткачук М.И." returns="NONE" type="NATIVE">
      <parameter name="message">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="email">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="phone">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="method_to_send">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="method_to_verify">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="store_access">
        <format>
          <type>BOOLEAN</type>
        </format>
      </parameter>
    </select>
    <select access_mode="0" is_proxy="0" is_service="0" last_changed="Ткачук М.И." name="Validation.NotifyToRequireValidation" responsible="Ткачук М.И." returns="NONE" type="NATIVE">
      <parameter name="select_message">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="email_validation_message">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="sms_validation_method">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="email">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="phone">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="method_to_send">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="method_to_verify">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="store_access">
        <format>
          <type>BOOLEAN</type>
        </format>
      </parameter>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.VerifyValidationCode" responsible="Ткачук М.И." returns="NONE" type="NATIVE">
      <parameter name="code">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="store_access">
        <format>
          <type>BOOLEAN</type>
        </format>
      </parameter>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.VerifyValidationCode" responsible="Ткачук М.И." returns="NONE" type="NATIVE">
      <parameter name="code">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="store_option">
        <format>
          <type>BOOLEAN</type>
        </format>
      </parameter>
      <parameter name="key">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
    </select>
    <select access_mode="0" is_proxy="0" is_service="1" last_changed="Ткачук М.И." name="Validation.VerifyValidationCode" responsible="Ткачук М.И." returns="NONE" type="NATIVE">
      <parameter name="code">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="resource_id">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="store_option">
        <format>
          <type>BOOLEAN</type>
        </format>
      </parameter>
      <parameter name="key">
        <format>
          <type>TEXT</type>
        </format>
      </parameter>
      <parameter name="keep_validation">
        <format>
          <type>BOOLEAN</type>
        </format>
      </parameter>
    </select>
  </object>

</repository>
