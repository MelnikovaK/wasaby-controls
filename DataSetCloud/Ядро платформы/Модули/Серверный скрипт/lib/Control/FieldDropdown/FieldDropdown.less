@import "../../../css/themes/wi_scheme/index";

@dropdownBorderColor: #E4E4E4;
@dropdownHoveredOptionBGColor: #E7F0F9;
@dropdownSubColor: #999999;
@dropdownSubFontSize: 11px;
@dropdownCurrentBorderColor: #EAEAEA;

/**
 Выпадающий список
 */

// функция установки стилей для селекта
.custom-select-style() {

   padding: 0 4px;

   &-text {
      margin: 0 16px 0 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      min-height: 22px;
      line-height: 22px;
   }

}

/* наши опции для селектов */
.custom-select-option {

   padding: 4px;
   white-space: nowrap;
   text-overflow: ellipsis;
   overflow-x: hidden;

   &:hover{
      background-color: @dropdownHoveredOptionBGColor;
      cursor: pointer;
   }

   &.ws-field-dropdown-current{
      border-bottom: 1px solid @dropdownCurrentBorderColor;
      padding: 4px 4px 2px;
      background-color: transparent!important
   }

}

/* декоративные стреки */
.custom-select-arrow {

   height : 100% !important;
   width : 14px;
   background: url("@{globalImagesPath}select-arrow.png") -2px 0 no-repeat;
   position: absolute;
   right: 3px;
   top: 0;

   &.custom-select-arrow-hover {
      background: none;
      padding-top: 3px;
   }

   &-open {
      background-position: -2px -24px;
      &.custom-select-arrow-hover {
         background: none;
         padding-top: 4px;
      }
   }

}

/* контейнер контрола */
.ws-field-dropdown-container {

   max-height: 24px;
   color: #000;
   font: @globalDefaultFontSize @globalFontFamily;
   text-align: left;

   // стили для упрощенного рендера (типа ссылки)
   &.ws-field-dropdown-simple {

      .ws-field-dropdown {

         border: none;

         .custom-select {

            padding: none;
            &-arrow { display:none; }
            &-text {
               color: inherit;
               margin: 0;
            }

         }

      }

      &.ws-disabled {
         & .custom-select,
         & .dropdown-fake {
            &-text,
            &:hover {
               color: rgb(0, 0, 0) !important;
               text-decoration: none !important;
               cursor: default;
            }
         }
      }
      
      .ws-editAtPlace { padding: 0 4px 1px 4px; }

   }

   // стили для hover рендера
   &.ws-field-dropdown-hover {

      .ws-field-dropdown {

         &, &:hover { border: 1px solid transparent; }
         .custom-select-arrow {
            right: auto;
            padding-left: 1px;
            left: 0px;
         }
         .custom-select-text { margin: 0 0 0 12px !important; }

      }

      &.ws-mobile {
         .ws-native-select {
            visibility: hidden;
         }
      }

   }

   // стандартные стили
   &.ws-disabled {
      > .ws-field-dropdown {
         .custom-select-arrow { background: none; }
      }
      .ws-native-select { color: #000000; }
   }

   .ws-field-dropdown {

      &:hover {
         .custom-select-arrow {
            background-position: -2px -24px;
            &.custom-select-arrow-hover {
               background-position: -2px -50px;
            }
         }
      }

      // нативный инпут-селект
      .ws-native-select {
         border: 0 none;
         height: 0;
         margin-top: -1px;
         opacity: 0;
         position: absolute;
         vertical-align: middle;
         left: 0;
      }

      // наш собственный селект
      .custom-select {
         .custom-select-style();
      }

      // имитация проинициализированного дропдауна
      .dropdown-fake {
         ~ * { display: none; }
         .custom-select-style();
      }

   } // .ws-field-dropdown

} // .ws-field-dropdown-container



/*
   контейнер для списка элементов (options), который дублирует их
   из нативного селекта
*/
.custom-options-container {

   cursor: pointer;
   position: absolute;
   margin-left: -1px;
   max-width: 650px;
   overflow-x: hidden;
   z-index: @commonZIndex;
   box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);

   &-head {

      display: none;
      border: 1px solid @dropdownBorderColor;
      background-color: #fff;
      position: relative;
      border-bottom: none;
      z-index: 2;

      &.custom-options-container-head-reversed {
         border-bottom: 1px solid @dropdownBorderColor;
         border-top: none;
      }

      .custom-select-option {
         margin: 0 0 0 12px;
         display: inline-block;
         &.ws-field-dropdown-current {
            border-bottom: none;
         }
      }

      .custom-select-arrow {
         right: auto;
         left: 1px;
         height: 24px !important;
      }

   }

   &-hover {

      padding: 0 3px 10px 5px;
      overflow: visible !important;
      box-shadow: none !important;

      .custom-options-container-list {

         margin-top: -1px;
         padding: 8px 0;
         box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);

         & [value='default']{
            font-weight: bold;
            text-decoration: none;
            color:black;
         }

         .custom-select-option {

            margin: 0 8px;
            padding-left: 8px;

         }

      }

      .custom-options-container-head { display: inline-block; }

   }

   &-simple > .ws-custom-options-border div:first-child {
      border-bottom: 1px solid #EAEAEA ;
   }

   &-list {

      border: 1px solid @dropdownBorderColor;
      background-color: #fff;
      overflow-y: auto;
      max-height: 300px;
      z-index: 1;

      .custom-select-option {

         &.ws-field-dropdown-empty {
            color: @globalPlaceholderColor;
         }

      }

   }

} // .custom-options-container


.ws-is-ie .ws-field-dropdown-simple .custom-select-text{
   padding-top: 1px;
}

/*
   непонятные классы, не смог найти их использование,
   но пока оставлю, чтоб ничего не поломать
*/
.options-show { background-color: #F0EBCC; }
.ws-dropdown-sub-text {
   color: @dropdownSubColor;
   font-size: @dropdownSubFontSize;
}




