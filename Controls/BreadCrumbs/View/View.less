@min-width_BreadCrumbs_withOverflow: @font-size_BreadCrumbs-arrow + @min-width_BreadCrumbs-text;

.controls-BreadCrumbsView {
   white-space: nowrap;
   height: @height_BreadCrumbs-items;
}

.controls-BreadCrumbsView__wrapper {
   display: flex;
   align-items: baseline;
   width: 100%;
}

.controls-BreadCrumbsView__items {
   display: inline-flex;
   align-items: center;
   height: @height_BreadCrumbs-items;
   width: 100%;
}

.controls-BreadCrumbsView__crumb {
   display: inline-flex;
   align-items: center;
   flex-shrink: 0;
   min-width: 0;
   position: relative;
}

//TODO: перенести в алиасы после мержа доброски https://online.sbis.ru/opendoc.html?guid=2c37d0ea-a700-4ba9-b142-18373a092408
//Иначе будут конфликты.
@border-width_BreadCrumbs-item_dropTarget: 2px;
@border-radius_BreadCrumbs-item_dropTarget: 4px;
@border-color_BreadCrumbs-item_dropTarget: #0055EE;
.controls-BreadCrumbsView__dropTarget:after {
   content: '';
   height: @height_BreadCrumbs-items;
   border: @border-width_BreadCrumbs-item_dropTarget solid @border-color_BreadCrumbs-item_dropTarget;
   box-sizing: border-box;
   position: absolute;
   display: block;
   border-radius: @border-radius_BreadCrumbs-item_dropTarget;
   z-index: 10;
   align-self: center;
   width: calc(100% + 2 * @border-width_BreadCrumbs-item_dropTarget);
   left: -@border-width_BreadCrumbs-item_dropTarget;
}

.controls-BreadCrumbsView__titleWrapper {
   flex-shrink: 0;
   cursor: pointer;
   position: relative;
   overflow: hidden;
   min-width: 0;
}

.controls-BreadCrumbsView__title {
   .text-overflow();
   color: @color_BreadCrumbs-title;
}

.controls-BreadCrumbsView__crumb_withOverflow {
   flex-shrink: 1;
   min-width: @min-width_BreadCrumbs_withOverflow;
}

.controls-BreadCrumbsView__titleWrapper_withOverflow {
   flex-shrink: 1;
   min-width: @min-width_BreadCrumbs-text;
}

.controls-BreadCrumbsView__arrow {
   .icon(@font-size_BreadCrumbs-arrow);
   cursor: pointer;
}

.controls-BreadCrumbsView__title_min {
   //класс существует только для удобства замеров
   min-width: @min-width_BreadCrumbs-text;
}

.controls-BreadCrumbsController__menu {
   max-width: @max-width_BreadCrumbs-menu;
}

.controls-BreadCrumbsView__menuItem {
   .baseline-fix();
   display: inline-flex;
   align-items: center;
   height: @height_BreadCrumbs-menuItem;
}

.controls-BreadCrumbsView__menuTitle {
   .text-overflow();
   flex-shrink: 1;
   display: inline-block;
   width: 100%;
}

.controls-BreadCrumbsView__indentation {
   display: inline-flex;
   flex-shrink: 0;
   height: @height_BreadCrumbs-corner;
   width: @width_BreadCrumbs-corner;
   &:last-of-type {
      background: @background_BreadCrumbs-corner no-repeat;
      align-self: flex-start;
   }
}

.ws-is-no-touch {
   .controls-BreadCrumbsView__title:hover {
      color: @color_BreadCrumbs-title_hovered;
      text-decoration: underline;
   }
}

//Класс сделан только для удобства замеров
.controls-BreadCrumbsView__crumbMeasurer {
   font-family: @font-family_BreadCrumbs, "Courier New";
}

.ws-is-ie {
   .controls-BreadCrumbsView__dropTarget:after {
      //IE can't correctly align absolutely-positioned flex children: https://codepen.io/anon/pen/MqazJv
      top: 50%;
      bottom: 50%;
      transform: translateY(-50%);
   }
}