.controls-Area__fieldWrapper {
   height: auto;
   position: relative;
   word-wrap: break-word;
   white-space: pre-wrap;
}

.controls-Area__field_readOnly {
   overflow: hidden;
}

.controls-Area__realField {
   top: 0;
   left: 0;
   overflow: hidden;
   position: absolute;
}

.controls-Area__wrapURLs {
   max-width: 100%;
   display: inline-flex;
}

.controls-Area__emptySymbol {
   user-select: none;
}

.controls-Area__fakeField {
   visibility: hidden;
}

.controls-Area_theme_@{themeName}_size {
   @variants: s, m, l, default;

   /**
    * When using line-height: normal, the row height in Firefox differs from the row height in other browsers.
    * This behavior is independent of the font. Therefore, you must specify the value explicitly.
    */
   .for(@variants, { &_@{_item} {
      line-height: ~"@{height_Area_oneLine_size_@{_item}}";
   } });
}

.controls-Area__field_theme_@{themeName}_margin {
   margin: @spacing_Area_between-topBorder-text @spacing_Area_between-rightBorder-text @spacing_Area_between-bottomBorder-text @spacing_Area_between-leftBorder-text;
}

.ws-is-firefox .controls-Area__field_theme_@{themeName}_margin {
   /**
    * In firefox, the text baseline is 1px higher than the standard. Compensate for this by reducing the indentation between the text and the upper border by 1px.
    * To ensure that the height is not changed let's increase the indentation between the text and the bottom border by 1px.
    * Presumably the problem is in the font. Error written https://online.sbis.ru/opendoc.html?guid=1e389bc5-8be7-4394-abdd-231e3ec040a8
    */
   margin: @spacing_Area_between-topBorder-text - 1 @spacing_Area_between-rightBorder-text @spacing_Area_between-bottomBorder-text + 1 @spacing_Area_between-leftBorder-text;
}

.ws-is-mobile-safari, .ws-is-mobile-chrome-ios {
   // On the iPad, in safari and chrome, textarea has indispensable 3px padding, at left and right sides.
   // https://stackoverflow.com/questions/6890149/remove-3-pixels-in-ios-webkit-textarea
   // To compensate them, we should move textarea to the left by 3px and increase it's width to 6px
   .controls-Area__realField {
      margin-left: -3px;
      width: ~"calc(100% + 6px)";
   }
}

& {
   @sizes: s, m, l, default;
   @countSupportLines: 10;

   .for(@countSupportLines * length(@sizes), {
      @lines: mod(@_i - 1, @countSupportLines) + 1;
      @size: extract(@sizes, ceil(@_i / @countSupportLines));
      @sizeVariable: "height_Area_oneLine_size_@{size}";
      @sizeLines: @lines * @@sizeVariable;

      .controls-Area__minHeight_theme_@{themeName}_countLines_@{lines}_size_@{size} {
         min-height: @sizeLines;
      }
      .controls-Area__scroll.controls-Area__minHeight_theme_@{themeName}_countLines_@{lines}_size_@{size}_indented {
         min-height: @sizeLines + @spacing_Area_between-topBorder-text + @spacing_Area_between-bottomBorder-text;
      }
      .controls-Area__scroll.controls-Area__maxHeight_theme_@{themeName}_countLines_@{lines}_size_@{size}_indented {
         max-height: @sizeLines + @spacing_Area_between-topBorder-text + @spacing_Area_between-bottomBorder-text;
      }
   });
}
