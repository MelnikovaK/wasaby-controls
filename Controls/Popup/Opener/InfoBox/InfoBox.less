.controls-InfoBox {
   padding: @padding-top_Infobox @padding-right_Infobox @padding-bottom_Infobox @padding-left_Infobox;
   box-sizing: border-box;
   max-width: @max-width_Infobox;
   overflow: auto;
}

.controls-InfoBox__popup {
   border: @border-width_Infobox solid;

   &:before {
      width: @size_Infobox-arrow;
      height: @size_Infobox-arrow;
      position: absolute;
      border: @border-width_Infobox solid;
      border-top: none;
      border-left: none;
      content: '';
      box-sizing: border-box;
   }

   &.controls-Popup-corner-vertical-top.controls-Popup-align-vertical-top {
      //tl
      &.controls-Popup-align-horizontal-right:before {
         transform: rotate(45deg);
         bottom: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         left: (@length_Infobox-arrow-diagonal - @size_Infobox-arrow)/2 + @horizontal-offset_Infobox-arrow;
      }

      //tr
      &.controls-Popup-align-horizontal-left:before {
         transform: rotate(45deg);
         bottom: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         right: (@length_Infobox-arrow-diagonal - @size_Infobox-arrow)/2 + @horizontal-offset_Infobox-arrow;
      }

      //tc
      &.controls-Popup-align-horizontal-center:before {
         transform: rotate(45deg);
         bottom: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         left: ~'calc(50% - '@length_Infobox-arrow-diagonal/2 - @border-width_Infobox ~')';
      }
   }

   &.controls-Popup-corner-vertical-bottom.controls-Popup-align-vertical-bottom {
      //bl
      &.controls-Popup-align-horizontal-right:before {
         transform: rotate(225deg);
         top: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         left: (@length_Infobox-arrow-diagonal - @size_Infobox-arrow)/2 + @horizontal-offset_Infobox-arrow;
      }

      //br
      &.controls-Popup-align-horizontal-left:before {
         transform: rotate(225deg);
         top: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         right: (@length_Infobox-arrow-diagonal - @size_Infobox-arrow)/2 + @horizontal-offset_Infobox-arrow;
      }

      //bc
      &.controls-Popup-align-horizontal-center:before {
         transform: rotate(225deg);
         top: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         left: ~'calc(50% - '@length_Infobox-arrow-diagonal/2 - @border-width_Infobox ~')';
      }
   }

   &.controls-Popup-corner-horizontal-right.controls-Popup-align-horizontal-right {
      //rt
      &.controls-Popup-align-vertical-bottom:before {
         transform: rotate(135deg);
         left: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         top: (@length_Infobox-arrow-diagonal - @size_Infobox-arrow)/2 + @vertical-offset_Infobox-arrow;
      }

      //rb
      &.controls-Popup-align-vertical-top:before {
         transform: rotate(135deg);
         left: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         bottom: (@length_Infobox-arrow-diagonal - @size_Infobox-arrow)/2 + @vertical-offset_Infobox-arrow;
      }

      //rc
      &.controls-Popup-align-vertical-center:before {
         transform: rotate(135deg);
         left: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         top: ~'calc(50% - '@length_Infobox-arrow-diagonal/2 - @border-width_Infobox ~')';
      }
   }

   &.controls-Popup-corner-horizontal-left.controls-Popup-align-horizontal-left {
      //lt
      &.controls-Popup-align-vertical-bottom:before {
         transform: rotate(-45deg);
         right: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         top: (@length_Infobox-arrow-diagonal - @size_Infobox-arrow)/2 + @vertical-offset_Infobox-arrow;
      }

      //lb
      &.controls-Popup-align-vertical-top:before {
         transform: rotate(-45deg);
         right: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         bottom: (@length_Infobox-arrow-diagonal - @size_Infobox-arrow)/2 + @vertical-offset_Infobox-arrow;
      }

      //lc
      &.controls-Popup-align-vertical-center:before {
         transform: rotate(-45deg);
         right: -(@length_Infobox-arrow-diagonal/2 - @border-width_Infobox);
         top: ~'calc(50% - '@length_Infobox-arrow-diagonal/2 - @border-width_Infobox ~')';
      }
   }
}

.controls-InfoBox__closeButton {
   position: absolute;
   top: @top_Infobox-close-button;
   right: @right_Infobox-close-button;
   cursor: pointer;
   color: @color_Infobox-close-button;

   &:hover {
      color: @color_Infobox-close-button_hover;
   }
}

.controls-InfoBox__message_margin {
   margin-right: @margin-right_Infobox-message;
}

.controls-InfoBox_floatElement {
   width: @size_Infobox-float-element;
   height: @size_Infobox-float-element;
   float: right;
}

.controls-InfoBox-style-default {
   background: @background-color_Infobox_default;
   border-color: @border-color_Infobox_default;
   box-shadow: @color_Infobox-shadow_default @box-shadow_Infobox;

   &.controls-InfoBox__popup:before {
      background: @background-color_Infobox_default;
      border-color: @border-color_Infobox_default;
   }
}

.controls-InfoBox-style-lite {
   background: @background-color_Infobox_lite;
   border-color: @border-color_Infobox_lite;
   box-shadow: @color_Infobox-shadow_lite @box-shadow_Infobox;

   &.controls-InfoBox__popup:before {
      background: @background-color_Infobox_lite;
      border-color: @border-color_Infobox_lite;
   }
}

.controls-InfoBox-style-help {
   background: @background-color_Infobox_help;
   border-color: @border-color_Infobox_help;
   box-shadow: @color_Infobox-shadow_help @box-shadow_Infobox;

   &.controls-InfoBox__popup:before {
      background: @background-color_Infobox_help;
      border-color: @border-color_Infobox_help;
   }
}

.controls-InfoBox-style-error {
   background: @background-color_Infobox_error;
   border-color: @border-color_Infobox_error;
   box-shadow: @color_Infobox-shadow_error @box-shadow_Infobox;

   &.controls-InfoBox__popup:before {
      background: @background-color_Infobox_error;
      border-color: @border-color_Infobox_error;
   }
}

/*
   Класс для доступа к константам темы из js
*/
.controls-InfoBox__themeConstants {
   margin-left: @length_Infobox-arrow-diagonal;
   margin-right: @horizontal-offset_Infobox-arrow;
   margin-bottom: @vertical-offset_Infobox-arrow;
   margin-top: @spacing_Infobox-between-target-popup;
}
