<div class="registry__area">
{{
   var defaultTab = it.defaultTab || (it.tabs.length ? it.tabs[0].id : ''),
      defaultTabPos = 0;
   for(var i = 0; i < it.tabs.length; i++) {
      if (it.tabs[i].id == defaultTab) { defaultTabPos = i; break;};
   };
}}
          <div class="registry__top-area">
            <component data-component='SBIS3.CORE.SwitchableArea' name="tabsArea" class="ws-switchableArea registry__middle-area">
               <option name="defaultArea" value="{{=(it.tabs[defaultTabPos] && it.tabs[defaultTabPos].tabsArea)? it.tabs[defaultTabPos].tabsArea: ''}}"></option>
               <option name="loadType" value="{{=(it.design || it.loadAll) ? 'all': 'cached'}}"></option>
               <options name="items" type="Array">
                  {{~it.tabsArea :item:index}}
                  <options name="{{=index}}">
                     <option name="id">{{=item.id}}</option>
                     <option name="content">{{=item.content || ''}}</option>
                  </options>
                  {{~}}
               </options>
            </component>
            <component data-component='SBIS3.CONTROLS.OperationsPanelButton' name="panelsButton" class="controls__OperationsPanelButton ws-hidden">
               <option name="visible" type="boolean">false</option>
            </component>
         </div>
         <component data-component='SBIS3.CORE.TabButtons' name="{{=(it.tabsName? it.tabsName: 'tab-buttons')}}" class="registry__main-tabs ws-TabButtons__marker">
            <options name="tabs" type="Array">
               {{~it.tabs :tab:index}}
               <options name="{{=index}}">
                  <option name="id">{{=(tab.id = tab.id || ('tab-' + index))}}</option>
                  <option name="title">{{=tab.title || ''}}</option>
                  <option name="icon">{{=tab.icon || ''}}</option>
                  <option name="align">right</option>
                  <option name="cssClass">{{=tab.cssClass || ''}}</option>
                  <option name="editable">false</option>
                  <option name="content">{{=tab.tabContent || ''}}</option>
                  <option name="enabled">{{=(tab.enabled === undefined ? true : !!tab.enabled)}}</option>
                  <option name="visible">{{=(tab.visible === undefined ? true : !!tab.visible)}}</option>
               </options>
               {{~}}
            </options>
            <option name="defaultTab" value="{{=defaultTab || ''}}"></option>
         </component>
         <component data-component='SBIS3.CORE.SwitchableArea' name="mainArea" class="ws-switchableArea registry__main-area">
            <option name="defaultArea" value="{{=(it.tabs[defaultTabPos] && it.tabs[defaultTabPos].mainArea)? it.tabs[defaultTabPos].mainArea: ''}}"></option>
            <option name="loadType" value="{{=(it.design || it.loadAll) ? 'all': 'cached'}}"></option>
            <options name="items" type="Array">
               {{~it.mainArea :item:index}}
               <options name="{{=index}}">
                  <option name="id">{{=item.id}}</option>
                  <option name="content">
                     <div {{?it.design}}area-name="Operations Panel"{{?}} class="registry__operationsPanel">
                        {{?(item.operationsPanel && item.operationsPanel.hasControl)}}
                        <component data-component="SBIS3.CORE.OperationsPanelND"
                                   name="{{=item.operationsPanel.name? item.operationsPanel.name: ('OperationsPanel_' + item.id)}}"
                                   class="{{=item.operationsPanel.className || ''}} registry-field">
                           <option name="linkedView">{{=item.linkedView}}</option>
                           <option name="massOperations" type="ref">{{@item.operationsPanel.massOperations}}</option>
                           <option name="selectedOperations" type="ref">{{@item.operationsPanel.selectedOperations}}</option>
                           <option name="markOperations" type="ref">{{@item.operationsPanel.markOperations}}</option>
                           {{? item.operationsPanel.isUseSaveSelectedColumns != undefined }}
                           <option name="isUseSaveSelectedColumns" type="Boolean">
                              {{=item.operationsPanel.isUseSaveSelectedColumns}}
                           </option>
                           {{?}}
                           {{? item.operationsPanel.isUseRecordReportsForExcel != undefined }}
                           <option name="isUseRecordReportsForExcel" type="Boolean">
                              {{=item.operationsPanel.isUseRecordReportsForExcel}}
                           </option>
                           {{?}}
                           <option name="handlers" type="ref">{{@item.operationsPanel.handlers}}</option>
                        </component>
                        {{?}}
                     </div>
                     <div class="registry__filtersContent {{=(
                     (item.searchString && item.searchString.hasControl) ||
                     (item.filterController && item.filterController.hasControl) ||
                     item.filtersContent) ? '' : 'ws-hidden' }}"><div
                           class="registry__filtersArea-tableCell registry__emptyCell" style="height:40px;padding-right:8px;"></div><div
                           class="{{?it.design}}genie-customArea {{?}} registry__filtersArea-tableCell">
                           </div><div {{?it.design}}area-name="Search String"{{?}}
                           class="{{?it.design}}genie-customArea {{?}}registry__searchString registry__filtersArea-tableCell
                        {{? (!item.searchString || !item.searchString.hasControl)}}registry__emptyCell{{?}}">{{?
                        (item.searchString && item.searchString.hasControl)
                        }}<component data-component="SBIS3.CORE.SearchString"
                                     name="{{=item.searchString.name? item.searchString.name: ('SearchString_' + item.id)}}"
                                     class="{{=item.searchString.className || ''}} registry-field">
                              {{? item.searchString.clearParams !== undefined }}
                              <option name="clearParams">{{=item.searchString.clearParams}}</option>
                              {{?}}
                              {{? item.searchString.filterName !== undefined }}
                              <option name="filterName">{{=item.searchString.filterName}}</option>
                              {{?}}
                              <option name="linkedBrowser">{{=item.linkedView}}</option>
                              {{? item.searchString.resetOnOpen !== undefined }}
                              <option name="resetOnOpen">{{=item.searchString.resetOnOpen}}</option>
                              {{?}}
                              {{? item.searchString.resetRoot !== undefined }}
                              <option name="resetRoot">{{=item.searchString.resetRoot}}</option>
                              {{?}}
                              {{? item.searchString.startSearch !== undefined }}
                              <option name="startSearch">{{=item.searchString.startSearch}}</option>
                              {{?}}
                              <option name="tooltip">{{=(item.searchString.tooltip !== undefined ?
                                 item.searchString.tooltip: 'найти')}}
                              </option>
                              <option name="useBrowserFilter">true</option>
                              <option name="useKbLayoutRevert">true</option>
                           </component>
                        {{?}}</div><div class="registry__filtersArea-tableCell" style="width: 100%;">
                           <div class="filtersArea-customWrapper genie-Placeholder">{{=(item.filtersContent || '')}}</div>
                        </div><div {{?it.design}}area-name="Filter Controller"{{?}}
                           class="{{?it.design}}genie-customArea {{?}}registry__filtersArea-component registry__filterController registry__filtersArea-tableCell
                        {{? (!item.filterController || !item.filterController.hasControl)}}registry__emptyCell{{?}}">{{?
                        (item.filterController && item.filterController.hasControl)
                        }}<component data-component="SBIS3.CORE.FilterController"
                                     name="{{=item.filterController.name? item.filterController.name: ('ControllerFilter_' + item.id)}}"
                                     class="{{=item.filterController.className || ''}} registry-field">
                              <option name="browserId">{{=item.linkedView}}</option>
                              {{? item.filterController.showHistory !== undefined }}
                              <option name="showHistory" type="boolean">{{=item.filterController.showHistory}}</option>
                              {{?}}
                              {{? item.filterController.sendDefault !== undefined }}
                              <option name="sendDefault" type="boolean">{{=item.filterController.sendDefault}}</option>
                              {{?}}
                              <option name="filterLine" type="ref">{{@item.filterController.filterLine}}</option>
                              <option name="mode">hover</option>
                              <option name="template">{{=item.filterController.template}}</option>
                              <option name="filters" type="ref">{{@item.filterController.filters}}</option>
                              <option name="filterButtonHandlers" type="ref">
                                 {{@item.filterController.filterButtonHandlers}}
                              </option>
                              <option name="pathFilterHandlers" type="ref">
                                 {{@item.filterController.pathFilterHandlers}}
                              </option>
                           </component>
                        {{?}}</div></div>{{?it.design}}<div class="registry__mainContent genie-Placeholder">{{=item.content || ''}}</div>{{??}}{{=item.content || ''}}{{?}}
                  </option>
               </options>
               {{~}}
            </options>
         </component>
</div>