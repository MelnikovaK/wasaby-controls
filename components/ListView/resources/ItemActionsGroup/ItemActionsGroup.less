.controls-ListView {
   .controls-ItemActions {
      background-color: transparent;
      box-shadow: none;
      display: inline-block;
   }
   &.controls-DataGridView {
      .controls-ItemActions__activeItem {
         background-color: @list-view-actions-active-bg;

         .controls-DataGridView__notScrolledCell {
            background-color: @list-view-actions-active-bg !important;
         }
      }
   }
}

.controls-ListView.controls-ListView__touchMode:not(.controls-ListView__bottomStyle) {
   .controls-ItemActions {
      overflow: hidden;
      margin: 0;

      .controls-ItemActions__itemsContainer {
         .controls-ItemActions__item {
            padding: 0 12px;
            margin: 0;
            height: 100%;

            outline: 4px solid #E7EFF8;
            outline-offset: -4px;
            border-right: 5px solid #D0D8E0;
            border-top: none;


            &.controls-Link  {
               display: table;

               .controls-Link-link {
                  display: table-cell;
                  vertical-align: middle;
               }
            }

            &.controls-IconButton:before{
               top: 50%;
               margin-top: -@list-view-actions-item-height / 2;
               position: absolute;
            }
         }

         .controls-ItemActions__menu-button,
         .controls-ItemActions__menu-button:hover {
            padding: 0;
            border: none;
            top: 50%;
            position: relative;
            margin-top: -@list-view-actions-menu-touch-height / 2;
            margin-left: 0;
            background: @list-view-actions-menu-touch-icon;
            height: @list-view-actions-menu-touch-height;
            width: @list-view-actions-menu-touch-width;
            background-size: @list-view-actions-menu-touch-size;
            background-position: center;
         }
         .controls-ItemActions__menu-button:before {
            content: none;
         }
      }
   }
}
.controls-ItemActions__menu-container {
   &.controls-ItemActions__menu-touchMode,
   &.controls-ItemActions__contextMenu {
      .controls-MenuItem {
         padding-right: 42px;
      }
      .controls-PopupMixin__closeButton {
         position: absolute;
         top: @list-view-actions-menu-touch-close-top;
         right: @controls-Popup-closeButton-right;
         width: @closeButtonWidth;
         height: @closeButtonHeight;
         cursor: pointer;
         background: @closeButtonImage;
         &:hover {
            background: @closeButtonImageHover;
            color: @default-color !important;
         }
         &:active {
            background: @closeButtonImageHover;
         }
         &:before {
            content: none;
         }
      }
      &.controls-popup-revert-vertical {
         .controls-PopupMixin__closeButton {
            right: 0;
         }
      }
   }
   &.controls-ItemActions__contextMenu {
      &.controls-popup-revert-vertical {
         .controls-PopupMixin__closeButton {
            top: @list-view-actions-menu-touch-close-top;
            bottom: auto;;
         }
      }
   }
}

.controls-ItemActions {
   .controls-ItemActions__itemsContainer{
      > * {
         float: left;
         cursor: @list-view-actions-cursor;
         margin: @list-view-actions-margin;
         height: @list-view-actions-item-height;
         line-height: @list-view-actions-item-height;
         padding: 0;

         &.controls-ItemActions__menu-button {
            z-index: 11;
            width: @list-view-actions-menu-icon-width;
            float: right;
         }
      }
      // обрезает операциями над записью по ширине справа, чтобы контейнер операций над записью не перекрывал скролл
      margin-right: -4px;
   }
}

.controls-ItemActions__icon.icon-size {
   .icon-24();
}

.controls-MenuItem {
   .controls-MenuItem__content  {
         .controls-MenuItem__icon.controls-ItemActions__icon {
            top: @list-view-actions-icon-top;
            left: @menu-item-icon24-left-offset;

            & + .controls-MenuItem__text {
               margin: @list-view-actions-menu-text-margin;
            }
         }
   }
}

.controls-ItemActions__menu-container {
   &.controls-Menu__Popup{
      padding: @list-view-actions-menu-padding;
      margin: @list-view-actions-menu-margin;
   }

   .controls-MenuItem.controls-ListView__item {
      white-space: nowrap;
      padding-right: @list-view-actions-menu-item-padding-right;

      .controls-MenuItem__text {
         margin: @list-view-actions-menu-text-margin;
      }
   }
   .controls-PopupMixin__closeButton {
      height: @list-view-actions-menu-close-height;
      width: @list-view-actions-menu-close-width;
      z-index: 1;
      right: @list-view-actions-menu-close-right;
      top: @list-view-actions-menu-close-top;
      position: absolute;
      cursor: @list-view-actions-cursor;
      color: @blue-dark-color !important;
      background: none;
      &:hover {
         color: @blue-dark-color !important;
         background: none;
      }

      .icon-24();
   }
   &.controls-popup-revert-vertical {
      .controls-PopupMixin__closeButton {
         top: auto;
         bottom: 8px;
      }
   }
}

.controls-ItemsToolbar__small {
   .controls-ListView.controls-ListView__touchMode {
      .controls-ItemActions {
         overflow: hidden;
         margin: 0;
         .controls-ItemActions__itemsContainer {
            .controls-ItemActions__item {
               &.controls-IconButton:before {
                  margin-top: -@list-view-actions-item-height / 2;
               }
            }
         }
     }
   }
   .controls-ItemActions {
      .controls-ItemActions__itemsContainer {
         > * {
            height: @list-view-small-actions-item-height;
            line-height: @list-view-small-actions-item-height;
            &.controls-ItemActions__menu-button {
               width: @list-view-small-actions-menu-icon-width;
            }
         }
      }
   }
   &.controls-ItemActions__menu-container {
      .icon-size {
         .icon-16();
      }
      &.controls-Menu__Popup{
         margin: -1px 0 0;
      }
      .controls-PopupMixin__closeButton {
         height: @list-view-small-actions-menu-close-height;
         width: @list-view-small-actions-menu-close-width;
         right: @list-view-small-actions-menu-close-right;
         top: 12px;
      }
      &.controls-popup-revert-vertical {
         .controls-PopupMixin__closeButton {
            bottom: @list-view-small-actions-menu-close-revVert-bottom;
         }
      }
      .controls-MenuItem {
         padding-right: @list-view-small-actions-menu-item-padding-right;

         .controls-MenuItem__text {
            margin: @list-view-small-actions-menu-text-margin;
         }
         .controls-MenuItem__content {
            .controls-MenuItem__icon {
               top: @list-view-small-actions-menu-item-icon-top-offset;
               left: @list-view-small-actions-menu-item-icon-left-offset;
            }
         }

      }
   }
}