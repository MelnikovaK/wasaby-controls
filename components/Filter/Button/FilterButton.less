.controls__filterButton {
   height: @controls-filterButton-height;
   //display: inline-block;
   white-space: normal;
   //todo: подумать над этим
   .inline-flexbox();
   .align-items(center);
   &.ws-disabled {
      .controls__filterButton__filterLine-arrow {
         color: @default-disabled-color !important;
      }
   }
   .controls-PopupMixin__closeButton {
      position: absolute;
      right: 0;
   }
}
.controls__filterButton__filterLine-arrow {
   .icon-size(@size_FilterButtom_line_arrow);
   color: @color-FilterButtom_line_arrow;
}
.controls__filterButton__filterLine__cross__icon {
   .icon-size(@size_FilterButtom_line_cross)
}
.controls__filterButton-button {
   margin: @controls-filterButton-button-margin;
   float: right;
   .flex-shrink(0);

   &:active {
      color: @blue-dark-color !important;
   }
   .icon-size {
      .icon-size(@size_FilterButton_icon, @default-icon-medium-font);
   }
}

.controls__filterButton-right {
   .flex-direction(row-reverse);
   .controls__filterButton-button {
      margin: @controls-filterButton-button-margin-right-align;
   }
   .controls__filterButton__filterLine {
      margin: @controls-filterButton-line-margin-right-align;
   }
}

.controls__filterButton__filterLine {
   width: 100%;
   min-width: 0;
   .flex-shrink();
   height: @controls-filterButton-button-height;
   margin: @controls-filterButton-filterLine-margin;
   cursor: pointer;
   color: @controls-filterLine-link-color;
   font-size: @font-size_filterButton_line;
   padding: @padding_filterBotton_line;//переделать

   &.ws-disabled {
      .controls__filterButton__filterLine-items {
         color: @default-disabled-color;
         cursor: default;

         .controls__filterButton__filterLine-arrow {
            color: @default-disabled-color !important;
            cursor: default;
         }
      }
   }
   
   &.ws-hidden + .controls__filterButton-button {
      margin-left: @controls-filterButton-button-empty-left-margin;
   }
}
.controls__filterButton__filterLine-items, .controls__filterButton__filterLine-text {
   .text-overflow();
   .flex-shrink(1);
}

.controls__filterButton__filterLine-text {
   display: inline-block; // display: inline-block кроссбраузерно гарантирует, что внутри flexbox контейра блок не выйдет за ширину родителя
}

.controls__filterButton__filterLine-items, .controls__filterButton__filterLine {
   .inline-flexbox();
   .align-items(center);
}

//TODO перейти на Link, реквест https://online.sbis.ru/opendoc.html?guid=a6217bf3-0e69-4e19-8d24-25ad47dfe34a
.filter-line-accent(@event) {
   .controls__filterButton__filterLine:not(.ws-disabled):@{event} {
      .controls__filterButton__filterLine-items:@{event} {
         .controls__filterButton__filterLine-text, .controls__filterButton__filterLine-arrow {
            color: @controls-filterLine-link-hover-color;
         }
         .controls__filterButton__filterLine-text {
            text-decoration: underline;
         }
      }
   }
}

.ws-is-desktop-platform {
   .filter-line-accent(hover);
}

.ws-is-mobile-platform {
   .filter-line-accent(active);
}

.ws-is-desktop-safari {
   .controls__filterButton__filterLine {
      max-width: ~'calc(100% - '@controls-filterButton-button-width ~')';
   }
}

/* Для этих странных бразуеров делаю на flex-box'e,
   т.к. у них max-width: calc (100%-someValue) считается некорректно, от текущий ширины контента берётся ширина,
   а не от ширины родителя.
   Когда будем перевёрстывать с коофицентами надо сделать везде на flex-box'e с обернутым div'ом. */
.ws-is-ie10, .ws-is-ie11, .ws-is-mobile-safari, .ws-is-mobile-chrome-ios {
   .controls__filterButton {
      .inline-flexbox();
   }
   .controls__filterButton__filterLine-items,
   .controls__filterButton__filterLine {
      -ms-flex-negative: 1;
      max-width: none;
      min-width: 0;
   }
}

/* Правлю выравнивание из-за TensorFont'a,
   который выравнивается в FF с округлением шрифтов вниз (с TensorFont'ом текст имеет дробную высоту). */
.ws-is-firefox .controls__filterButton__filterLine-cross {
   margin-top: 1px;
}