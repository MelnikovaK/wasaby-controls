.controls-IconButton {
  line-height: normal;
  vertical-align: middle;
  .button-default-style(0);

  .controls-Button__icon {
    position: relative;
  }
  .controls-Button__text {
    display: none;
  }

  &:active {
    .controls-Button__icon.icon-primary {
      color: @icon-active-color;
    }
    &.controls-IconButton__round-border, &.controls-IconButton__round-border-24, &.controls-IconButton__round-border-32 {
        box-shadow: none;
        background-color: @background-color_EditButton_hovered;
        border-color: @default-color;
        .controls-Button__icon {
          color: @icon-color-primary;
        }
    }
     &.controls-IconButton__errorBorder {
        border-color: @color_IconButton-icon_error;
        .controls-Button__icon {
          color: @color_IconButton-icon_error;
        }
     }
     &.controls-IconButton__doneBorder {
       border-color: @border-color_EditButton_hovered;
        .controls-Button__icon {
          color: @color_IconButton-icon_done;
        }
     }
  }

   &.controls-Button {
      padding: 0;
      cursor: pointer;
   }

   &.controls-IconButton__doneBorder {
     .controls-Button__icon {
       color: @color_IconButton-icon_done;
     }
   }
   &.controls-IconButton__errorBorder {
     .controls-Button__icon {
       color: @color_IconButton-icon_error;
     }
   }
   &.controls-IconButton__round-border{
      .round-button-mixin(@gray-ccc-color, @border-radius, @border-width_IconButton-icon);
      height: @width_IconButton-icon_round;
      width: @height_IconButton-icon_round;
      line-height: @line-height_IconButton-icon_round !important;
   }

   &.controls-IconButton__round-border-24{
      .round-button-mixin(@gray-ccc-color, @border-radius_EditButton, @border-width_EditButton);
      height: @height_IconButton_round_edit;
      width: @width_IconButton_round_edit;
      background-color: @background-color_EditButton;
      .box-shadow(@box-shadow_Button);
      text-shadow: @text-shadow_EditButton;
   }
   &.controls-IconButton__round-border-32{
      .round-button-mixin(@gray-ccc-color, @border-radius, @border-width_IconButton-icon);
      border-radius: 20px;
      height: 38px !important;
      width: 38px !important;
      line-height: 38px !important;
   }

   .controls-Button__wrapper {
     .justify-content(center);
   }

   &.ws-disabled {
     cursor: default;
     .controls-Button__icon {
       // important ставлю временно аналогично кнопкам,
       // избавлюсь в 3.18.0 когда волью доброску по состоянию иконки
       color: @default-disabled-color !important;
     }
   }
}
.ws-is-desktop-safari, .ws-is-mobile-safari {
  .controls-IconButton {
    &.controls-IconButton__round-border, &.controls-IconButton__round-border-24, &.controls-IconButton__round-border-32 {
      // https://stackoverflow.com/questions/17202128/rounded-cornes-border-radius-safari-issue
      -webkit-transform: translateZ(0);
    }
  }
}
.ws-is-desktop-platform {
  .controls-IconButton:not(.ws-disabled):not(:active) {
    &:hover {
      .controls-Button__icon {
        &.icon-primary {
          color: @icon-active-color;
        }
      }
    }
    &.controls-IconButton__round-border, &.controls-IconButton__round-border-24, &.controls-IconButton__round-border-32{
      .round-button-hover-mixin();
    }
  }
}
