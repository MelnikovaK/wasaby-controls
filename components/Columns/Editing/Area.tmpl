<div class="controls-Columns-Editing-Area">
   <div class="controls-Columns-Editing-Area__head">
      <div class="controls-Columns-Editing-Area__head-title">
         <div class="controls-Columns-Editing-Area__head-title-left">
            <ws:if data="{{title}}">{{title}}</ws:if>
            <ws:else>{[Отображение колонок]}</ws:else>
         </div>
         <div class="controls-Columns-Editing-Area__head-title-right">
            <ws:SBIS3.CONTROLS.Button
               class="controls-Columns-Editing-Area__ApplyColumnsButton"
               command="applyColumns" primary="true"
               >
               <ws:caption>
                  <ws:if data="{{applyButtonTitle}}">{{applyButtonTitle}}</ws:if>
                  <ws:else>{[Применить]}</ws:else>
               </ws:caption>
            </ws:SBIS3.CONTROLS.Button>
         </div>
      </div>
      <ws:if data="{{usePresets && ((staticPresets && staticPresets.length) || presetNamespace)}}">
         <div class="controls-Columns-Editing-Area__head-preset">
            <div class="controls-Columns-Editing-Area__head-preset-label">{[Шаблон]}</div>
            <div class="controls-Columns-Editing-Area__head-preset-editor">
               <ws:SBIS3.CONTROLS.ListView
                  class="controls-Columns-Editing-Area__Preset controls-ListView__disableHover"
                  name="controls-Columns-Editing-Area__Preset"
                  items="{{_optsPreset.items}}"
                  itemsHover="{{false}}"
                  itemsDragNDrop="{{false}}"
                  idProperty="id"
                  displayProperty="title"
                  editMode=""
                  editingTemplate="tmpl!SBIS3.CONTROLS.Columns.Editing.Area/templates/presetEdit"
                  >
                  <!--^^^
                  itemsActions="{{_optsPreset.itemsActions}}"
                  itemContentTpl="tmpl!SBIS3.CONTROLS.Columns.Editing.Area/templates/preset"
                  editMode="click|single"
                  <ws:handlers onItemClick="{{_optsPreset.onItemClick}}"/>
                  -->
                  <ws:itemContentTpl>
                     <ws:partial
                        template="tmpl!SBIS3.CONTROLS.Columns.Editing.Area/templates/preset"
                        scope="{{itemContentTpl}}"
                        presetsTitle="{{presetsTitle}}"
                        staticPresets="{{staticPresets}}"
                        presetNamespace="{{presetNamespace}}"
                        selectedPreset="{{selectedPreset}}"
                        />
                  </ws:itemContentTpl>
               </ws:SBIS3.CONTROLS.ListView>
            </div>
         </div>
      </ws:if>
   </div>
   <ws:SBIS3.CONTROLS.ScrollContainer class="controls-Columns-Editing-Area__body">
      <ws:content type="string">
         <ws:SBIS3.CONTROLS.CheckBoxGroup
            class="controls-Columns-Editing-Area__FixedList"
            name="controls-Columns-Editing-Area__FixedList"
            items="{{ _optsFixed.items }}"
            idProperty="id"
            displayProperty="title"
            enabled="{{ false }}"
            selectedKeys="{{ _optsFixed.markedKeys }}"
            multiselect="{{ true }}"
         />
         <ws:SBIS3.CONTROLS.ListView
            class="controls-Columns-Editing-Area__SelectableList"
            name="controls-Columns-Editing-Area__SelectableList"
            items="{{ _optsSelectable.items }}"
            easyGroup="{{ true }}"
            _groupCollapsing="{{_groupCollapsing}}"
            itemsActions="{{ [] }}"
            itemsDragNDrop="{{ false }}"
            idProperty="id"
            displayProperty="title"
            itemsSortMethod="{{_optsSelectable.itemsSortMethod}}"
            selectedKeys="{{_optsSelectable.markedKeys}}"
            itemContentTpl="tmpl!SBIS3.CONTROLS.Columns.Editing.Area/templates/selectableItemContent"
            multiselect="{{ true }}"
            >
            <ws:handlers onItemClick="{{_optsSelectable.onItemClick}}" onSelectedItemsChange="{{_optsSelectable.onSelectedItemsChange}}"/>
            <ws:groupBy
               field="{{hasGroups ? 'group' : undefined}}"
               >
               <ws:contentTemplate>
                  <ws:if data="{{hasGroups}}">
                     <ws:partial template="tmpl!SBIS3.CONTROLS.Columns.Editing.Area/templates/selectableGroupContent" scope="{{contentTemplate}}" groupTitleTpl="{{groupTitleTpl}}" groupTitles="{{groupTitles}}" />
                  </ws:if>
               </ws:contentTemplate>
            </ws:groupBy>
         </ws:SBIS3.CONTROLS.ListView>
      </ws:content>
   </ws:SBIS3.CONTROLS.ScrollContainer>
</div>