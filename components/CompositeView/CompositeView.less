.controls-CompositeView {
  .controls-CompositeView__itemsContainer{
     overflow: hidden;
  }
   
   /* Стили для режима 'Список' */
  .controls-CompositeView__listItem {
    height: @data-grid-cell-height;
    line-height: @data-grid-cell-height;
    padding: @data-grid-cell-padding;
    cursor: @data-grid-cell-cursor;
    &.controls-ListView__item.controls-ListView__hoveredItem {
      background: @data-grid-row-hover-bg;
    }
    &.controls-ListView__item-type-node {
      padding: 0;
      display: inline-block;
      width: 228px;
      height: 190px;

      .controls-CompositeView__tileImg-container {
        display: block;
        width: 120px;
        height: 120px;
        margin: @multiView-tile-item-image-margin;
        .controls-CompositeView__tileImg {
           width: 120px;
         }
      }
      .controls-CompositeView__tileTitle {
        font-weight: 600;
        font-size: 15px;
        color: #313e78;
        text-align: center;
        margin-top: @multiView-tile-item-text-margin;
        line-height: @data-grid-cell-height;
      }
      &:hover {
        .controls-CompositeView__tileTitle {
          text-decoration: underline;
        }
        .controls-CompositeView__tileImg-container{
          box-shadow: 1px 2px 4px #aaa;
        }
      }
    }
    &.controls-ListView__item__multiSelected {
      background: @multiView-tile-selected-item-bg;
    }
  }
  &.controls-CompositeView-table .controls-Pager-container {
     display : none
  }

  .controls-CompositeView__tileItem,
  .js-controls-CompositeView__verticalItemActions {
     border: @multiView-default-folder-border;
  }

  .controls-CompositeView__listItem-defaultFolderImage {
    background: @multiView-default-folder-bg;
  }

  .controls-CompositeView__listItem-defaultItemImage {
    background: @multiView-default-item-bg;
  }
   .controls-ListView__item-title{
      height: 27px;
      line-height: 27px;
   }

   &:not(.controls-CompositeView-tile__static):not(.controls-CompositeView-tile__dynamic) {
      /* Стили для режима 'Плитки' */
      .controls-CompositeView__tileItem {
         display: inline-block;
         vertical-align: top;
         cursor: pointer;
         text-align: left;
         width: @multiView-tile-item-min-width;
         min-height: @multiView-tile-item-min-height;
         box-sizing: border-box;

         &.controls-ListView__item.controls-ListView__hoveredItem {
            background: @data-grid-row-hover-bg;
            .controls-CompositeView__tileImg {
               box-shadow: @multiView-tile-item-image-box-shadow;
            }
         }

         &.controls-ListView__item-type-node {
            width: 228px;
            height: 190px;
            .controls-CompositeView__tileImg-container {
               display: block;
               width: 120px;
               height: 120px;
               margin: @multiView-tile-item-image-margin;
               .controls-CompositeView__tileImg {
                  width: 120px;
               }
            }
            .controls-CompositeView__tileTitle {
               line-height: @data-grid-cell-height;
               font-weight: 600;
               font-size: 15px;
               color: #313e78;
            }
            &:hover {
               .controls-CompositeView__tileTitle {
                  text-decoration: underline;
               }
               .controls-CompositeView__tileImg-container {
                  box-shadow: 1px 2px 4px #aaa;
               }
            }
         }
         &.controls-ListView__item__multiSelected {
           background: @multiView-tile-selected-item-bg;
         }
         .controls-CompositeView__tileImg {
            display: block;
            margin: @multiView-tile-item-image-margin;
         }
         .controls-CompositeView__tileTitle {
            font-family: @default-font-name;
            margin-top: @multiView-tile-item-text-margin;
            font-size: 15px;
            text-align: center;
         }
      }
   }
   /* Стили для выделенных элементов */
   .controls-CompositeView__itemsContainer {
      .controls-ListView__item__selected {

         /* Заливка выделенных элементов */
         &.controls-CompositeView__listItem.controls-ListView__item-type-node,
         &.controls-CompositeView__tileItem {
            background-color: @default-itemHover-color;
         }

         /* Рамка выделенных элементов (Для режима 'плитки' всегда, для режима 'Список', если есть класс */
         &.js-controls-CompositeView__verticalItemActions,
         &.controls-CompositeView__tileItem {
            border-color: @multiView-tile-selected-item-border-color;
         }

         &.controls-CompositeView__listItem:not(.controls-ListView__item-type-node),
         &.controls-CompositeView__listItem:not(.controls-CompositeView__verticalItemActions) {
            .marker(left top)
         }
      }
   }
}

.controls-CompositeView-tile {
   .controls-ItemsToolbar {
      right: @list-view-items-toolbar-right-tile;
      bottom: @list-view-items-toolbar-bottom-tile;
   }
}

.controls-CompositeView-tile__static, .controls-CompositeView-tile__dynamic {
   .controls-CompositeView__itemsContainer {
      overflow: visible;
      .flexbox();
      .flex-wrap(wrap);

      .controls-CompositeView__tileItem {
         margin: 2px;
         border: 1px solid #E4E4E4;
         display: inline-block;
         .flex-grow(1);

         .controls-CompositeView__tileContainer {
            .inline-block-bug-fix(14px);
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;

            .controls-CompositeView__tileImg-container {
               overflow: hidden;
            }

            .controls-ListView__itemCheckBox {
               z-index: 1;
            }
         }

         &.controls-ListView__hoveredItem, &.controls-ListView__item__selected, &.controls-ItemActions__activeItem {
            background-color: #fff !important;
         }

         &.controls-ListView__hoveredItem, &.controls-ItemActions__activeItem {
            z-index: 1;
            box-shadow: 0 0 5px #587AB0;
         }

         /*Сбрасываем стили, прописанные inline на дефолтные, чтобы расширение элемента происходило только по ховеру т.к.
           по ховеру данные стили не применятся и будут использоваться inline'овые, расчитанные на js при отрисовке плитки*/
         &:not(.controls-ListView__hoveredItem):not(.controls-ItemActions__activeItem) {
            padding: 0 !important;
            margin: 2px !important;

            .controls-CompositeView__tileContainer {
               margin-bottom: 0 !important;
            }
         }

         //Стили для пустышки, она должна быть нулевой высоты. controls-fakeClass необходим для увеличения веса селектора
         //и перебития сбрасывающих стилей, которые объявлены выше
         &.controls-CompositeView__tileItem-invisible:not(.controls-fakeClass) {
            height: 0 !important;
            margin-top: 0 !important;
            margin-bottom: 0 !important;
            border-top: 0;
            border-bottom: 0;
            border-color: transparent;
         }
      }
   }
   .controls-ItemsToolbar {
      &.controls-ListView__ItemsToolbar-container {
         bottom: 2px;
         right: 4px;
         background-color: #E1ECF6 !important;
         .controls-ItemActions {
            margin-bottom: 0;
         }
      }
   }
}

.controls-CompositeView-tile__static {
   .controls-CompositeView__tileItem {
      &:before {
         content: "";
         display: block;
         padding-top: 90%;
      }

      .controls-CompositeView__tileImg {
         max-width: 100%;
         max-height: 100%;
      }
   }

   &:not(.controls-CompositeView-tile__static-smallImage) {
      .controls-CompositeView__tileItem {
         .controls-CompositeView__tileContainer {
            .controls-CompositeView__tileImg-container {
               width: 100%;
               height: 100%;
            }

            .controls-CompositeView__tileTitle {
               max-height: 40px;
               line-height: 20px;
               padding: 3px 4px;
               border-top: 1px solid #E4E4E4;
            }
         }

         &.controls-CompositeView__item-withTitle {
            .controls-CompositeView__tileImg-container {
               height: calc(~"100% - 24px");
            }
         }

         &.controls-ListView__hoveredItem, &.controls-ItemActions__activeItem {
            .controls-CompositeView__tileTitle {
               background-color: #E1ECF6;
            }
         }
      }
   }

   &.controls-CompositeView-tile__static-smallImage {
      .controls-CompositeView__tileItem {
         .controls-CompositeView__tileContainer {
            .flexbox();
            .flex-direction(column);
            .align-items(center);

            .controls-CompositeView__tileImg-container {
               margin-top: 24px;
               width: 70%;
               height: 60%;
            }

            .controls-CompositeView__tileTitle {
               margin: 4px 16px 0 16px;
               height: 40px;
               overflow: hidden;
               text-align: center;
               line-height: 40px;
               font-size: 15px;
               .align-self(stretch);

               .controls-CompositeView__tileTitle-text {
                  line-height: 20px;
                  display: inline-block;
                  max-height: 40px;
                  max-width: 100%;
                  &:hover {
                     text-decoration: underline;
                  }
               }
            }
         }

         &:not(.controls-CompositeView__item-withoutItemsAction) {
            &.controls-ListView__hoveredItem, &.controls-ItemActions__activeItem {
               padding-bottom: 26px;
               margin-bottom: -24px;
               &:after {
                  content: '';
                  height: 26px;
                  width: 100%;
                  display: inline-block;
                  background-color: #E1ECF6;
                  position: absolute;
                  bottom: 0;
               }
               .controls-CompositeView__tileContainer {
                  margin-bottom: 26px;
               }
            }
         }
      }
   }
}

.controls-CompositeView-tile__dynamic {
   .controls-CompositeView__itemsContainer {
      .controls-CompositeView__tileItem:not(.controls-ListView__item-type-node) {
         .controls-CompositeView__tileImg-container {
            height: 100%;
            width: 100%;
            .inline-flexbox();
            .justify-content(center);

            .controls-CompositeView__tileImg {
               height: 100%;
            }
         }
         .controls-CompositeView__tileTitle {
            display: none;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            font-size: 14px;
            max-height: 18px;
            background-color: #fff;
            border-top: 1px solid #E4E4E4;
         }
         &.controls-CompositeView__item-withTitle {
            .controls-CompositeView__tileTitle {
               display: block;
            }
         }
         &.controls-ListView__hoveredItem, &.controls-ItemActions__activeItem {
            .controls-CompositeView__tileImg {
               position: absolute;
               top: 0;
            }
            .controls-CompositeView__tileTitle {
               display: block;
               min-height: 18px;
               max-height: 36px;
               background-color: #E1ECF6;
               padding: 4px;

               .controls-CompositeView__tileTitle-text {
                  max-height: 36px;
                  overflow-y: hidden;
               }
            }
         }
      }
   }
}

.dragdropBody {
  .controls-CompositeView__tileItem,
  .controls-CompositeView__listItem.controls-ListView__item-type-node {
    &.controls-DragNDrop__insertBefore {
      border-left: @drag-and-drop-border;
    }
    &.controls-DragNDrop__insertAfter {
      border-right: @drag-and-drop-border;
    }
  }
  .controls-CompositeView__listItem:not(.controls-ListView__item-type-node) {
    &.controls-DragNDrop__insertBefore {
      border-top: @drag-and-drop-border;
    }
    &.controls-DragNDrop__insertAfter {
      border-bottom: @drag-and-drop-border;
    }
  }
}
