.separator (){
  content: '';
  position: absolute;
  display: inline-block;
  background-color: @color_ComboBox_item_separator;
  height: @default-border-width;
  left: @padding_ComboBox_item_separator;
  right: @padding_ComboBox_item_separator;
  bottom:0;
}
body {
  .ws-info-box {
    background: @background-color_infobox !important;
    color: @default-text-color;
    border: @infobox-border;
    padding: round(24px * @multiplier) round(68px * @multiplier) round(24px * @multiplier) round(24px * @multiplier) !important;
    box-shadow: rgba(0, 0, 0, 0.5) 0 0 round(20px * @multiplier);
    &.ws-infobox-type-error {
      box-shadow: rgba(0, 0, 0, 0.5) 0 0 round(20px * @multiplier);
    }
    //25,45584412271571 px
    //0,9091372900969896rem
    .ws-infobox-triangle {
      width: round(25px * @multiplier);
      height: round(25px * @multiplier);
      box-sizing: border-box;
      background: @background-color_infobox !important;;
      transform:  scaleY(1.055555555555556) rotate(45deg);
      &.ws-infobox-triangle-bottom {
        bottom: round(-13px * @multiplier);
        border-right: @infobox-border;
        border-bottom: @infobox-border;
      }
      &.ws-infobox-triangle-top {
        top: round(-13px * @multiplier);
        border-left: @infobox-border;
        border-top: @infobox-border;
      }
      &.ws-infobox-triangle-vertical-right {
        right: round(-13px * @multiplier);
        border-right: @infobox-border;
        border-top: @infobox-border;
      }
      &.ws-infobox-triangle-vertical-left {
        left: round(-13px * @multiplier);
        border-left: @infobox-border;
        border-bottom: @infobox-border;
      }
      &.ws-infobox-triangle-right {
        right: round(24px * @multiplier);
      }
      &.ws-infobox-triangle-left {
        left: round(24px * @multiplier);
      }
      &.ws-infobox-triangle-vertical-top {
        top: round(24px * @multiplier);
      }
      &.ws-infobox-triangle-vertical-bottom {
        bottom: round(24px * @multiplier);
      }
    }
    .ws-infobox-close-button.icon-disabled{
      font-size: round(52px * @multiplier)!important;
      width: round(52px * @multiplier)!important;
      height: round(52px * @multiplier)!important;
      right: round(16px * @multiplier);
      top: round(16px * @multiplier);
      color: @Infobox-cross-color!important;
      overflow: hidden;
      &:hover {
        color: @Infobox-cross-color-hover!important;
      }
      &:before {
        line-height: round(52px * @multiplier)!important;
      }
    }
    &.ws-infobox-has-title .ws-infobox-content {
      padding-right: 0;
    }
    .ws-infobox-content {
      color: @default-text-color;
      font-size: round(28px * @multiplier);
      ul {
        padding-left: round(28px * @multiplier);
      }
    }
  }
}
//Временное решение, пока в панель операций кладутся контролы, удалить при переходе на шаблончики
//перекрашиваю только контролы которые обычно кладут в панель операций: кнопки, выпадающий список, комбобокс и метка
.controls-operationsPanel__actions {
  .controls-ButtonBase, .controls-DropdownList__textWrapper, .controls-ComboBox, .controls-Label__text_color {
    color: #839EBC !important;
    .icon-error {
      color: @error-color !important;
    }
  }
  .controls-Button__icon.icon-primary {
    color: #839EBC !important;
  }
}

.controls-operationsPanel__actions {
  .controls-ButtonBase:hover:not(.ws-disabled), .controls-DropdownList__value:hover:not(.ws-disabled), .controls-ComboBox:hover:not(.ws-disabled) {
    color: #B9E9FF !important;
    .icon-error {
      color: @error-color !important;
    }
    .controls-Button__icon.icon-primary {
      color: #B9E9FF !important;
    }
  }
  .controls-Link.controls-Link_main:hover:not(.ws-disabled) .controls-Button__icon.icon-primary {
    color: #B9E9FF !important;
  }

  .controls-Link.controls-Link_main:active:not(.ws-disabled) {
    color: #B9E9FF !important;
    .controls-Button__icon.icon-primary {
      color: #B9E9FF !important;
    }
  }
}
.controls-operationsPanel__itemsMenu {
  .controls-Button__icon {
    color: #839EBC !important;
  }
  &:hover {
    .controls-Button__icon {
      color: #B9E9FF !important;
    }
  }
}
.ws-LoadingIndicator__window, .ws-loading {
    img, .ws-loadingimg > div:before{
      width: round(74px * @multiplier);
      height: round(74px * @multiplier);
    }
   .ws-loadingimg {
    left: round(13px * @multiplier);
    top: round(13px * @multiplier);
  }
  .ws-LoadingIndicator__message__progress-no {
    margin-left: round(87px * @multiplier);//74+13px;
    font-size: @large-text-size;
    &:empty {
      margin-left: round(74px * @multiplier);//74+13px;
    }
  }
  .ws-LoadingIndicator__loadingContainer {
    padding: round(29px * @multiplier) round(13px * @multiplier);
  }
}
body .ws-window.ws-LoadingIndicator__window {
  background-color: #1D2834;
  box-shadow: none;
}

.controls-ComboBox__item, .controls-MenuItem {
  position: relative;
  &:before {
    .separator();
  }
}
.controls-MenuItem:last-child {
  &:before {
    display: none;
  }
}
.controls-DropdownList__item {
  &:after {
    .separator();
  }
}
.controls-DropdownList__multiselect {
  .controls-DropdownListFooter_select {
    //Пока нет стандартных размеров для средних кнопок в темах оформления, задаю вручную
    width: round(58px * @multiplier);
    height: round(58px * @multiplier);
  }
}
//todo: поддержать в компоненте
.controls-ComboBox {
  &.ws-disabled {
    &.controls-ComboBox__emptyValue {
      .controls-ComboBox__fieldNotEditable{
        color: @default-text-color;
      }
    }
  }
}
.controls-InputRender_size_l.controls-TextArea {
  height: auto;
}
body {
  //TODO: удалить это когда будет нормальный пэйджинг, не из ws-a
  //Страшно представить но с 2015 года никто не переписывал пейджинг поэтому мы положим эту кучку здесь
  .ws-paging {
    font-size: 0;
    .ws-paging-small {
      .box-sizing();
      width: round(86px * @multiplier)!important;
      height: @default-height;
      line-height: @default-height !important;
      background: transparent !important;
      border: 2px solid transparent !important;
      font-size: round(40px * @multiplier) ;
      color: #8991A9 !important;
      margin: 0 round(8px * @multiplier) 0 0 !important;
      padding: 0 !important;
      cursor: default;
      &.ws-paging-prev, &.ws-paging-first, &.ws-paging-next, &.ws-paging-end {
        background: @background_Button !important;
        .box-shadow(0 1px 4px rgba(0, 0, 0, .5));
      }
      &.ws-paging-active {
        .box-shadow(0 1px 4px rgba(0, 0, 0, .5));
        color: #FFFFFF !important;
        background: #567395 !important;
        cursor: pointer;
        &:hover {
          background: @background_Button_active;
        }
        &:active {
          .box-shadow(none);
          background:@background_Button_active;
        }
      }
      &.ws-paging-current {
        .box-shadow(none);
        background:@background_Button_active !important;
        border: 2px solid #26B8FF !important;
        color: #FFFFFF !important;
      }
      &.icon-16{
        font-size:@default-icon-size-large !important;
      }
    }
  }
  .controls-Pager-block-amount {display: none}
  .controls-ListView__scrollPager {
    padding: round(11px * @multiplier) round(8px * @multiplier) round(11px * @multiplier) 0;
    .controls-IconButton {
      background: @background_Button;
      padding: 0;
      border-style: solid;
      border-width: @border-width_Button;
      border-color: @background_Button;
      .box-shadow(0 1px 4px rgba(0, 0, 0, .5));
      .controls-Button__icon {
        height: @default-icon-size-large!important;
        width: @default-icon-size-large!important;
        line-height: @default-icon-size-large !important;
        color: #ffffff !important;
      }
      &:active {
        background: @background_Button_active;
        box-shadow: none;
      }
      &.ws-disabled {
        .controls-Button__icon {
          color: #8991A9 !important;
        }
      }
    }
  }
  .ws-window-titlebar {
    color: @default-text-color !important;
    line-height: round(100px * @multiplier)!important;
    height: round(100px * @multiplier)!important;
    font-weight: normal !important;
    border-bottom: none;
  }
  .ws-window-title { // аналогично шапке панели, контентная область начинается слева от крестика
    margin: 0 !important;
    width: calc(~"100% - @{width_CloseButton} - @{padding-right_floatArea-title}") !important; //86 - close button width + 8 - padding
    padding-left: round(24px * @multiplier) !important;
    box-sizing: border-box !important;
  }

  .controls-Browser__backButton {
    padding-left: round(16px * @multiplier);
    height: round(56px * @multiplier);
    line-height: round(62px * @multiplier);
  }
}
.controls-ListView__touchMode {
  .controls-ListView__ItemsToolbar-container {
    padding: 0;
  }
}

//!IMPORTANT лучше чем увеличение веса селектора через BODY тк возможно собирать тему под селектором
.ws-window-titlebar {
  background-color: #39506A !important;
}
.ws-window-content {
  background-color: #273749 !important;
  padding: round(11px * @multiplier) round(8px * @multiplier);
  border-width: @default-border-width;
  border-style: solid;
  border-color: transparent;
  border-top: none;
}
//нет нормального инструмента чтобы сделать через переменные
//будет жить пока стили floatArea в ws`e
.ws-window-content, .ws-float-area-stack-panel-shadow {
  .ws-sticky-header__table-header-copy,
  .ws-sticky-header__block.ws-sticky-header__fixed,
  .ws-sticky-header__table-header-copy {
    background-color: #273749 !important;
  }
}
.ws-float-area,
.ws-window {
  .ws-float-area-title {
    font-size: round(40px * @multiplier) !important;
    font-weight: normal !important;
    padding-left: round(24px * @multiplier) !important;
    width: calc(~"100% - @{width_CloseButton} - @{padding-right_floatArea-title}") !important; //86 - close button width + 8 - padding
  }
}
.ws-float-area-stack-panel-overflow .ws-window-titlebar{
  border-bottom: none!important; //в темах нет бордера у шапок в панелях
}
.ws-window {
  .box-shadow(@controls-panel-shadow);
  border: none !important;
}
.ws-window-title, .ws-float-area-title {
  color: #FFCC99 !important;
}
.ws-float-area-stack-panel-shadow {
  border-left: none !important;
}

.controls-EditActions__cancelButton {
  &:active {
    box-shadow: none;
  }
}
.ws-float-close {
  .close-button-mixin(~'!important');
  &:before {
    color: #8991A9 !important;
  }
  border: none !important;
}
.ws-is-desktop-platform {
  .controls-ItemsToolbar-closeButton.controls-Button__closeButton:hover {
    background-color: @background-color_IconButton_bordered_standard_hovered;
  }
}
//Простите меня за эти строки кода, я не хотел, меня заставили
.controls__filterButton {
  .controls__filterButton-button {
    .close-button-mixin(~'', @default-height, @default-height);
    &:before {
      content: '';
    }
    .icon-size {
      color: #E4E4E4 !important;
      &.icon-IconButton-disabled {
        color: @color_Link-icon_disabled !important;
      }
    }

  }
}
//по стандарту цвет крестика везде должен браться с icon-disabled, кроме светлой темы (цвет в светлой и в темной одинаковый)
//задаю только для тем оформления, на vdom компонентах этот код не понадобится, т.к. там цвет задается через переменную.
.controls__filterButton__filterLine__cross__icon.icon-disabled {
  color: #8991A9!important;
}
.controls-FilterButton {
  .controls-FilterButton__icon {
    .close-button-mixin(~'', round(58px * @multiplier), round(58px * @multiplier), "\ea2d");
    font-size: round(38px * @multiplier);
    color: #FFF !important;
  }
}
//todo: удалить временный коствль
//это можно будет удалить при переписывании расурывающегося списка
body {
  .controls-DropdownList.controls-DropdownList__type-fastDataFilter .controls-DropdownList__afterCaptionWrapper {
    .inline-flexbox();
    //по стандарту цвет крестика везде должен браться с icon-disabled, кроме светлой темы (цвет в светлой и в темной одинаковый)
    //задаю только для тем оформления, на vdom компонентах этот код не понадобится, т.к. там цвет задается через переменную.
    .controls-DropdownList__crossIcon.icon-disabled {
      color: #8991A9!important;
    }
  }
  .controls-DropdownList.controls-DropdownList__withoutCross .controls-DropdownList__afterCaptionWrapper, .controls-DropdownList.ws-disabled .controls-DropdownList__afterCaptionWrapper {
    display: none;
  }
}

//todo: Из-за заданного отступа происходит скачек при переключении вкладок
//Будет исправлено при переписывании tabButtons на flex
.controls-TabButton.controls-Checked__checked .controls-TabButton__inner .controls-TabButton__wrapper {
  margin-bottom: 0px !important;
}

//todo:
.controls-DateRangeBigChoose__dates {
  position: relative;
}
.controls-DateRangeBigChoose__months-month-picker:before, .controls-DateRangeBigChoose__dates:before {
  background: linear-gradient(to bottom, @controls-ScrollContainer-gradient-background);
}
.controls-DateRangeBigChoose__months-month-picker:before {
  top:0;
}
.controls-DateRangeBigChoose__dates:before {
  top: @height_DateRangeChoose-dates-header;
}
.controls-DateRangeBigChoose__months-month-picker:after, .controls-DateRangeBigChoose__dates:after {
  bottom: 0;
  background: linear-gradient(to top, @controls-ScrollContainer-gradient-background);
}
.controls-DateRangeBigChoose__months-month-picker:before, .controls-DateRangeBigChoose__months-month-picker:after,
.controls-DateRangeBigChoose__dates:before, .controls-DateRangeBigChoose__dates:after {
  content: '';
  position: absolute;
  display: block;
  z-index: 1;
  height: @controls-ScrollContainer-top-gradient-height;
  left: 0;
  width: 100%;
  pointer-events: none;
}
.controls-DateRangeBigChoose
{
  .controls-DateRangeBigChoose__homeBtn {
    padding-right:  round(24px * @multiplier);
  }
  .controls-DateRangeBigChoose__ApplyButton {
    .controls-Button__icon {
      .icon-size(@default-icon-size-large);
    }
  }
}

.controls-DataGridView__headerRow .controls-DataGridView__th {
  line-height: round((75px * @multiplier) / 2);
}
//todo: временное решение, пока прикладные модули не умеют в темы
.controls-Browser {
  .controls-Browser__table.controls-Browser__table-fullFilterBlock .controls-Browser__tableCell-fastDataFilter {
    margin-right: @default-padding;
  }
  .controls-Browser__fastDataFilter .controls-DropdownList {
    margin-top:  floor(11px * @multiplier);
  }
  .controls-Browser__tableRow {
    margin-left: 0;
  }
  .controls-Browser__topTemplate {
    padding: @top_window_button round(8px * @multiplier);
  }
}
//необходимо переписать быстрый выбор периода, временное решение в 350 версию
.controls-DateRangeChoose__home {
  .controls-Button__icon{
    font-size: @default-icon-size-medium;
  }
}
//Todo: необходимо зашить эти стили в окнах
.controls-NotificationPopup__body, controls-NotificationPopup__footer {
  background-color: @controls-SubmitPopup-footer-bg;
}

// кнопки онлайна с обводкой переходят в кнопки престо с обводкой
// в стандарте выбора времени кнопка отличается
.controls-IconButton.controls-TimeHeader__homeButton {
  background-color: transparent;
  box-shadow: none;
  height: @height_IconButton_bordered_size-m;
}
// перетащил фикс из prestonew
// TODO: чтобы не писать такие каскады нужно упростить стили MenuIcon и навешивать только нужные отступы
.controls-operationsPanel__itemsMenu_picker.controls-MenuIcon__Menu.controls-MenuIcon__Menu.controls-Menu.controls-Menu__hide-menu-header {
  margin: round(-17px * @multiplier) 0 0 round(16px * @multiplier);
}
// в онлайне стили вызывающего элемента и иконки в меню не отличаются, в престо же отображается только иконка,
// а т.к. копируем все селекторы, то для престо придется перебить часть свойств
.controls-MenuIcon-header.controls-IconButton_bordered {
  background: transparent;
  border: none;
  box-shadow: none;
}
// В presto крестик закрытия в информационных окнах имеют другие размеры.
.controls-InformationPopup .controls-PopupMixin__closeButton_light {
  .icon-size(@icon-size_default_large);
}
// Размер не согласуется с размерами кнопок-иконок. необходимо только в тулбаре
.controls-ToolBar .controls-IconButton {
  width: @default-height;
  height: @default-height;
}

.ws-window-overlay {
  position: fixed;
  left: 0;
  top: 0;
  right: 0;
  height: 100%;
  background-color: rgba(0,0,0,.1);
  cursor: pointer;
}
// Размер не согласуется с размерами кнопок-иконок. необходимо только в тулбаре
.controls-ToolBar .controls-IconButton {
  width: @default-height;
  height: @default-height;
}

.ws-is-webkit:not(.ws-is-mobile-android), .ws-is-mobile-chrome-ios {
  .controls-BreadCrumbs{
    // необходимо переверстать хлебные крошки на флекс
    &.controls-BreadCrumbs__smallItems .controls-BreadCrumbs__arrow {
      top: @bread-crumb-crumb-home-top;
    }
  }
}

.controls-BreadCrumbs__smallItems {
  top: 1px;
  &.controls-BreadCrumbs .controls-BreadCrumbs__itemsContainer, .controls-BreadCrumbs__crumb {
    .inline-flexbox();
  }
  &.controls-BreadCrumbs {
    .controls-BreadCrumbs__arrow, .controls-BreadCrumbs__title {
      top: auto;
    }
    .controls-BreadCrumbs__crumb:first-child .controls-BreadCrumbs__arrow.icon-size {
      display: none;
    }
  }
}