@heightProgressBar: @controls-ProgressBar-height - 2 * @default-border-width;
@align-text: center, left, right;

.controls-ProgressBar-align-progress-generator(@index: 1) when (@index <= length(@align-text)) {
  @value: extract(@align-text, @index);
  .controls-ProgressBar_align-@{value} {
    .controls-ProgressBar__progress {
      text-align: @value;
    }
  }
  .controls-ProgressBar-align-progress-generator(@index: @index + 1);
}

.controls-ProgressBar when not (ispercentage(@controls-ProgressBar-width)) {
  width: @controls-ProgressBar-width;
}

.controls-ProgressBar__progress_size {
  height: @heightProgressBar;
  border: @default-border-width @default-border-style @controls-ProgressBar-border-color;
  border-radius: @controls-ProgressBar-border-radius;
  line-height: @heightProgressBar;
  & when (ispercentage(@controls-ProgressBar-width)) {
    width: calc(~"@{controls-ProgressBar-width} - @{default-border-width}");
  }
  & when not (ispercentage(@controls-ProgressBar-width)) {
    width: @controls-ProgressBar-width - 2 * @default-border-width;
  }
}

.controls-ProgressBar__progress_color {
  background-repeat: no-repeat;
  background-color: @controls-ProgressBar-background-color;
  background-image: linear-gradient(to right, @controls-ProgressBar-first-color, @controls-ProgressBar-last-color);
}

.controls-ProgressBar__progress_colorValue {
  color: @controls-ProgressBar-value-color;
}

.controls-ProgressBar-align-progress-generator();