@import "resources/MonthRangePicker";
@import "resources/DateRangePicker";

.buttonbar-selected-button () {
   background-color: @date-range-big-choose-bg-selected-color;
   border: 1px solid @date-range-big-choose-border-selected-color;
   &:hover {
      border-left-color: @date-range-big-choose-border-hovered-color;
      border-right-color: @date-range-big-choose-border-hovered-color;
   }
}

.buttonbar-selected-boundary-button () {
   color: @date-range-big-choose-boundary-selected-color;
   background-color: @date-range-big-choose-bg-boundary-selected-color;
}

.range-button-bar-mixin () {
   //.controls-DateRangeBigChoose__months-range-btn-wrapper {
      .controls-Button {
         .border-radius(0);
         &.controls-RangeSelectable__item.controls-RangeSelectable__item-selected {
            .buttonbar-selected-button();
            &.controls-RangeSelectable__item-selectedStart,
            &.controls-RangeSelectable__item-selectedEnd {
               .buttonbar-selected-boundary-button();
            }
         }
      }

      .controls-RangeSelectable__item.controls-RangeSelectable__item-selected {
         .controls-Button {
            .buttonbar-selected-button();
         }

         &.controls-RangeSelectable__item-selectedStart,
         &.controls-RangeSelectable__item-selectedEnd {
            .controls-Button {
               .buttonbar-selected-boundary-button();
            }
         }
      }
   //}

}

.range-vertical-button-bar-mixin() {
   .range-button-bar-mixin();
   .controls-Button {
      border: 1px solid @date-range-big-choose-border-color;
      border-bottom: none;
      .controls-Button__text {
         margin: 0;
      }
   }
   :first-child {
      .controls-Button {
         border-top: none;
      }
   }
   .controls-RangeSelectable__item.controls-RangeSelectable__item-selected {
      .controls-Button {
         border-bottom: none;
      }
   }
}

.controls-DateRangeBigChoose {

   background-color: #fff;
   border: 1px solid @date-range-big-choose-border-color;
   border-radius: 0;
   width: @date-range-big-choose-width;
   font-family: @date-range-big-choose-font-family;
   .box-shadow(@float-area-shadow);
   height: auto;
   position: relative;

   .controls-DateRangeBigChoose__header {
      background-color: #f9f9f9;
      border-bottom: 1px solid @date-range-big-choose-border-color;
      padding: @date-range-big-choose-header-padding;

      .controls-DateRangeBigChoose__homeBtn {
         height: @date-range-big-choose-header-home-button-size;
         width: @date-range-big-choose-header-home-button-size;
         margin: @date-range-big-choose-header-home-button-margin;
         border-radius: @date-range-big-choose-header-home-button-size/2;
         line-height: @date-range-big-choose-header-home-button-line-height !important;
         .controls-Button__icon {
            font-size: @date-range-big-choose-header-home-button-font-size !important;
         }
      }

      .controls-DateRangeBigChoose__header-date-pickers {
         float: right;
         margin-right: @date-range-big-choose-header-date-pickers-margin-right;
      }
      .controls-DateRangeBigChoose__ApplyButton {
         height: @date-range-big-choose-header-apply-button-size;
         width: @date-range-big-choose-header-apply-button-size;
         border-radius: @date-range-big-choose-header-apply-button-size/2;
         line-height: @date-range-big-choose-header-apply-button-line-height !important;
         margin-left: @date-range-big-choose-header-apply-button-margin-left;
         float: right;
         .controls-Button__icon {
            font-size: @date-range-big-choose-header-apply-button-font-size !important;
            width: @date-range-big-choose-header-apply-button-font-size;
         }
      }
      .controls-DateRangeBigChoose__header-rangeDash {
         float: right;
         width: @date-range-big-choose-header-range-dash-width;
         border-bottom: 1px solid black;
         margin: @date-range-big-choose-header-range-dash-margin;
      }
      .controls-DateRangeBigChoose__datePickerEnd,
      .controls-DateRangeBigChoose__datePickerStart {
         float: right;
         margin-top: @date-range-big-choose-header-date-picker-margin-top;
         height: @date-range-big-choose-header-date-picker-height;
      }

      .controls-DateRangeBigChoose__datePickerEnd-wrapper {
         float: right;
      }

      .controls-DateBox {
         .controls-FormattedTextBox__fieldWrapper {
            border: 1px solid @date-range-big-choose-header-date-box-border-color;
            border-radius: 3px;
            font-size: @date-range-big-choose-header-date-box-font-size;
         }
         &:hover,
         &.ws-has-focus {
            .controls-FormattedTextBox__fieldWrapper {
               border-color: @date-range-big-choose-header-date-box-border-selected-color;
            }
         }
      }
   }

   .controls-DateRangeBigChoose__left {
      position: absolute;
      width: @date-range-big-choose-left-right-width;
   }

   .controls-DateRangeBigChoose__center {
      position: absolute;
      left: @date-range-big-choose-left-right-width;
      right: @date-range-big-choose-left-right-width;
   }
   &.controls-DateRangeBigChoose__yearHovered{
      .controls-DateRangeBigChoose__center {
         background-color: @date-range-big-choose-bg-hovered-color;
      }
      .controls-DateRangeBigChoose__years {
         .controls-DateRangeBigChoose__left {
            border-right: 1px solid @date-range-big-choose-border-color;
         }
         .controls-DateRangeBigChoose__right {
            border-left: 1px solid @date-range-big-choose-border-color;
         }
      }
   }

   .controls-DateRangeBigChoose__right {
      position: absolute;
      width: @date-range-big-choose-left-right-width;
      right: 0;
   }

   .controls-DateRangeBigChoose__years {
      border-bottom: 1px solid @date-range-big-choose-border-color;
      height: @date-range-big-choose-years-height;
      vertical-align: middle;
      .box-sizing(border-box);

      .controls-DateRangeBigChoose__left,
      .controls-DateRangeBigChoose__center,
      .controls-DateRangeBigChoose__right {
         padding: @date-range-big-choose-years-panel-top-padding 0 @date-range-big-choose-years-panel-bottom-padding 0;
         .box-sizing(border-box);
      }
      .controls-DateRangeBigChoose__left,
      .controls-DateRangeBigChoose__right {
         text-align: center;
         height: @date-range-big-choose-years-height;
         vertical-align: middle;
         line-height: @date-range-big-choose-years-height - @date-range-big-choose-years-panel-top-padding - @date-range-big-choose-years-panel-bottom-padding - 1;
      }
      .controls-DateRangeBigChoose__left {
         border-right: 1px solid transparent;
      }
      .controls-DateRangeBigChoose__right {
         border-left: 1px solid transparent;
      }

      .controls-DateRangeBigChoose__yearsRange {
         .range-button-bar-mixin();

         span.controls-Button {
            border: none;
            float: left;
            width: 16.6666%;
            font-size: 15px;
            text-align: center;
            background-color: transparent;

            &:hover {
               color: #000000;
               font-weight: bold;
            }
            .controls-Button__text {
               margin: 0;
            }
            &.controls-RangeSelectable__item.controls-RangeSelectable__item-selected {
               border-left: none;
            }
            &.controls-DateRangeBigChoose__currentYear {
               color: @date-range-big-choose-link-text-color;
            }
         }
      }
      .controls-DateRangeBigChoose__years-panel-wrapper {
        .controls-DateRangeBigChoose__years-currentYearBtn.controls-Link {
          &:hover {
             .controls-Link-link {
                text-decoration: none;
             }
          }
        }
      }

      .controls-DateRangeBigChoose__years-currentYearBtn.controls-Link {
         margin: 0 18px 0 10px;
         font-size: @date-range-big-choose-years-panel-current-year-button-font-size !important;
         line-height: @date-range-big-choose-years-panel-current-year-button-line-height !important;

         &:active {
            .box-sizing(border-box);
            color: @date-range-big-choose-boundary-selected-color;
            background-color: @date-range-big-choose-bg-boundary-selected-color;
            border: 1px solid @date-range-big-choose-border-selected-color;
         }
      }
      .controls-DateRangeBigChoose__years-toggleChooseYearBtn.controls-Link {
         .box-sizing(border-box);
         margin: @date-range-big-choose-years-panel-toggle-choose-year-button-margin;
         border: 1px dotted transparent;
         font-size: @date-range-big-choose-years-panel-toggle-choose-year-button-font-size !important;
         line-height: @date-range-big-choose-years-panel-toggle-choose-year-button-line-height;

         &:hover {
            border: 1px dotted @gray-color;
            color: @date-range-big-choose-link-text-color;
            .controls-Link-link {
               text-decoration: none !important;
            }
         }
      }

      .controls-DateRangeBigChoose__years-back {
         display: inline-flex;
         border: 1px dotted transparent;
         margin: 0 20px 0 19px;
         padding: 2px 0 0 2px;
         width: @date-range-big-choose-years-panel-back-button-line-height + 2;
         height: @date-range-big-choose-years-panel-back-button-line-height + 2;
         .box-sizing(border-box);
         &.controls-IconButton {
            .controls-Button__icon {
               font-weight: normal;
               font-size: @date-range-big-choose-years-panel-back-button-font-size !important;
               line-height: @date-range-big-choose-years-panel-back-button-line-height !important;
               &.icon-primary.action-hover:hover {
                  border: 1px dotted @gray-color;
                  color: @date-range-big-choose-link-text-color !important;
               }
            }
         }
      }
   }

   .controls-DateRangeBigChoose__months {
      position: relative;
      height: @date-range-big-choose-body-height;
      top: 0;
      bottom: 0;

      //.controls-DateRangeBigChoose__left,
      //.controls-DateRangeBigChoose__right {
      //   .range-vertical-button-bar-mixin();
      //}

      .controls-DateRangeBigChoose__months-quarterRange,
      .controls-DateRangeBigChoose__months-halfyearRange {
         width: auto;
         .range-vertical-button-bar-mixin();

         .controls-DateRangeBigChoose__months-range-btn-wrapper {
            width: 100%;
            &.controls-RangeSelectable__item-selected {
               background-color: @date-range-big-choose-bg-selected-color;
            }
         }
      }

      .controls-DateRangeBigChoose__months-range-btn-wrapper {
         .box-sizing(border-box);
         > span {
            width: @date-range-big-choose-left-right-width;
            height: 100%;
            background-color: transparent;
            font-size: @date-range-big-choose-quarters-half-years-font-size;
            border-bottom: none;
         }
         &.controls-RangeSelectable__item.controls-RangeSelectable__item-selected {
            border-top: none;
            + .controls-DateRangeBigChoose__months-range-btn-wrapper:not(.controls-RangeSelectable__item-selected) {
               border-top: 1px solid @date-range-big-choose-border-color;
               > span {
                  border-top: none;
               }
            }
         }
         &:not(.controls-RangeSelectable__item-selected) + .controls-RangeSelectable__item-selected {
            border-top: 1px solid @date-range-big-choose-border-color;
         }
      }

      .controls-DateRangeBigChoose__months-quarterRange {
         right: @date-range-big-choose-left-right-width;
         left: 0;

         .controls-DateRangeBigChoose__months-range-btn-wrapper {
            > span {
               border-left-color: transparent;
            }
            &.controls-DateRangeBigChoose__months-range-btn-wrapper0 {
               height: @date-range-big-choose-months-range-btn-height + @date-range-big-choose-months-margin - 1;
            }
            &.controls-DateRangeBigChoose__months-range-btn-wrapper3 {
               height: @date-range-big-choose-months-range-btn-height + @date-range-big-choose-months-margin;
            }
            &.controls-DateRangeBigChoose__months-range-btn-wrapper1,
            &.controls-DateRangeBigChoose__months-range-btn-wrapper2 {
               height: @date-range-big-choose-months-range-btn-height;
            }
         }
      }

      .controls-DateRangeBigChoose__months-halfyearRange {
         right: 0;
         left: @date-range-big-choose-left-right-width;

         .controls-DateRangeBigChoose__months-range-btn-wrapper {
            height: @date-range-big-choose-months-range-btn-height*2 + @date-range-big-choose-months-margin;
            &.controls-DateRangeBigChoose__months-range-btn-wrapper0 {
               height: @date-range-big-choose-months-range-btn-height*2 + @date-range-big-choose-months-margin - 1;
            }
            > span {
               float: right;
               border-right-color: transparent;
               &:after {
                   content: "";
                   display: block;
                   clear: both;
               }
            }
         }
      }

      .controls-DateRangeBigChoose__months-month {
         height: 100%;
         overflow: hidden;
      }
      .controls-DateRangeBigChoose__months-toStart {
         position: absolute;
         cursor: pointer;
         top: 0;
         left: 0;
         width: 0;
         height: 0;
         border-top: 8px solid @date-range-big-choose-go-to-boundary-button-bg-color;
         border-right: 8px solid transparent;
      }
      .controls-DateRangeBigChoose__months-toEnd {
         position: absolute;
         cursor: pointer;
         bottom: 0;
         right: 0;
         width: 0;
         height: 0;
         border-bottom: 8px solid @date-range-big-choose-go-to-boundary-button-bg-color;
         border-left: 8px solid transparent;
      }
   }

   .controls-DateRangeBigChoose__dates {
      height: @date-range-big-choose-body-height;
      position: relative;

      .controls-DateRangeBigChoose__dates-months {
         position: absolute;
         width: @date-range-big-choose-months-range-width;
         .range-vertical-button-bar-mixin();

         span.controls-Button {
            width: 100%;
            height: @date-range-big-choose-months-button-height;
            border-top: none;
            border-bottom: none;
            color: @date-range-big-choose-months-color;
            font-size: @date-range-big-choose-months-font-size;
            text-align: left;
            padding-left: 8px;
            border-left-color: transparent;
            background-color: transparent;
            justify-content: flex-start;

            &:first-child {
               height: @date-range-big-choose-months-button-first-height;
               padding-top: @date-range-big-choose-months-button-first-padding-top;
            }
            &:last-child {
               height: @date-range-big-choose-months-button-last-height;
               padding-bottom: @date-range-big-choose-months-button-last-padding-bottom;
            }

            &.controls-RangeSelectable__item.controls-RangeSelectable__item-selected {
               border-top: none;
               border-bottom: none;
            }
         }
      }
      .controls-DateRangeBigChoose__dates-dates-wrapper {
      //.controls-DateRangeBigChoose__dates-dates {
         position: absolute;
         left: @date-range-big-choose-date-range-picker-left;
         right: @date-range-big-choose-date-range-picker-right;
         top: 0;
         bottom: 0;
         overflow: hidden;
      }
      .controls-DateRangeBigChoose__dates-dates {
         top: -262px;
         position: absolute;
      }
      .controls-DateRangeBigChoose__dates-dates-top-gradient {
         position: absolute;
         left: 0;
         right: 0;
         height: 40px;
         background: @date-range-big-choose-date-range-picker-calendar-top-bg;
      }
      .controls-DateRangeBigChoose__dates-dates-bottom-gradient {
         position: absolute;
         left: 0;
         right: 0;
         bottom: 0;
         height: 40px;
         background: @date-range-big-choose-date-range-picker-calendar-bottom-bg;
      }
   }

   .controls-DateRangeBigChoose__years-panel-wrapper {
      width: 33%;
      float: left;
      > * {
         font-size: @date-range-big-choose-years-panel-wrapper-font-size;
         font-weight: bold;
         font-style: normal;
         display: block;
         margin: 0 20px;
      }
   }

   .controls-DateRangeBigChoose__years-prevYearBtn,
   .controls-DateRangeBigChoose__years-nextYearBtn {
      //margin: 0 auto;
      //display: block;
   }

   &.controls-DateRangeBigChoose__selectionProcessing {
      .controls-DateRangeBigChoose-MonthRangePicker.controls-ListView {
         .controls-DateRangeBigChoose-MonthView.controls-MonthView {
            .controls-MonthView__dayTable {
               td {
                  cursor: default;
               }
               &:hover {
                  border-color: transparent;
               }
            }
         }
      }
   }
}

body:not(.ws-is-mobile-platform) {
   .controls-DateRangeBigChoose {
      .controls-DateRangeBigChoose__months {

         .controls-DateRangeBigChoose__months-range-btn-wrapper {
            > span:hover {
               font-weight: bold;
            }
            &:not(.controls-RangeSelectable__item-selected) {
               &:hover {
                  background-color: @date-range-big-choose-bg-hovered-color;
                  > span {
                     border-top: none;
                  }
                  + .controls-DateRangeBigChoose__months-range-btn-wrapper > span {
                     border-top: none;
                  }
                  + .controls-DateRangeBigChoose__months-range-btn-wrapper {
                     border-top: 1px solid @date-range-big-choose-border-color;
                  }
               }
               + .controls-DateRangeBigChoose__months-range-btn-wrapper:hover {
                  border-top: 1px solid @date-range-big-choose-border-color;
               }
            }
         }
         .controls-DateRangeBigChoose__months-quarterRange, .controls-DateRangeBigChoose__months-halfyearRange {
            .controls-Button:hover {
               border-bottom: none;
            }
         }

         .controls-DateRangeBigChoose__months-quarterRange {
            .controls-DateRangeBigChoose__months-range-btn-wrapper:not(.controls-RangeSelectable__item-selected) {
               > span:hover {
                  border-left-color: @date-range-big-choose-bg-hovered-color;
                  border-right-color: @date-range-big-choose-bg-hovered-color;
               }
            }
         }

         .controls-DateRangeBigChoose__months-halfyearRange {
            .controls-DateRangeBigChoose__months-range-btn-wrapper:not(.controls-RangeSelectable__item-selected) {
               > span:hover {
                  border-right-color:  @date-range-big-choose-bg-hovered-color;
                  border-left-color:  @date-range-big-choose-bg-hovered-color;
               }
            }
         }
      }

      .controls-DateRangeBigChoose__dates {
         .controls-DateRangeBigChoose__dates-months {
            span.controls-Button:not(.controls-RangeSelectable__item-selected) {
               &:hover {
                  border-left-color: @date-range-big-choose-bg-hovered-color;
                  background: @date-range-big-choose-bg-hovered-color;
               }
            }
         }
      }
   }
}
